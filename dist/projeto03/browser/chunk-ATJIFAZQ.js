import{$ as x,$a as ue,A as Ce,Aa as V,Ab as Pt,B as r,Ba as le,C as b,Ca as De,Cb as te,D as Se,Da as Y,Db as _t,E as Me,Ea as ce,Eb as bt,F as f,Fa as Ee,Fb as wt,G as s,Ga as R,H as Ue,Ha as it,I as F,Ia as pe,Ib as ie,J as a,Ja as ke,Jb as Ct,K as l,Ka as X,L as w,La as de,M,Ma as ot,Mb as ge,N as v,Na as Z,Nb as he,O as c,Oa as U,P as We,Pa as nt,Q as Je,Qa as rt,Ra as at,S as He,Sa as st,T as H,Ta as xe,U as z,V as $,W as N,X as h,Xa as lt,Y as T,Ya as ct,Z as P,_ as k,_a as Ae,a as y,aa as A,ab as pt,b as Pe,cb as dt,da as ze,db as ee,ea as $e,f as _e,fa as Qe,ga as Ke,ha as Ge,ia as Ye,ja as G,k as Ne,ka as Xe,l as be,la as Ze,lb as ut,m as qe,mb as mt,n as Ve,na as D,o as K,oa as ae,ob as gt,p as je,pb as ht,q as Be,qa as q,qb as Le,r as I,rb as ft,s as C,t as E,tb as yt,u as J,ub as Te,v as S,w as we,wa as et,x as u,xb as vt,y as m,ya as se,yb as me,z as O,za as tt}from"./chunk-VYJBD3QG.js";function zt(){return navigator.language||navigator.userLanguage}function $t(){let t=(zt()||Z).toLowerCase().substring(0,2);return ot.includes(t)?t:Z}function Ie(t){return typeof t=="string"?(t=t.toLowerCase().trim(),t==="true"||t==="on"||t===""):typeof t=="number"?t===1:!!t}function Qt(t,p){let e=parseInt(t,10),i=parseInt(p,10);return e||e===0?e:i||i===0?i:void 0}function Q(t,p){return typeof t===p}function Kt(t,p){if(t){let e=t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),o=e<10?"0"+e:e,n=Gt(t.getFullYear()),g=t.toString();return p?n+"-"+o+"-"+i+p:n+"-"+o+"-"+i+"T"+g.substring(16,24)+g.substring(28,31)+":"+g.substring(31,33)}else return null}function Gt(t){if(t>=1e3)return t.toString();if(t>99&&t<1e3)return`0${t}`;if(t>9&&t<100)return`00${t}`;if(t>=0&&t<10)return`000${t}`}function ye(t){return t?t.startsWith("http"):!1}function j(t){return t?t<10?`0${t}`:t:"00"}var St={en:{cancelButton:"Cancel",closeButton:"Close",continueButton:"Continue",email:"e-mail",emailErrorMessagePhrase:"Invalid e-mail format",emailSentConfirmationPhrase:`We have sent the instructions and new password creation link to your e-mail.
    If you did not receive it after a few minutes, check your spam box or click Resend.`,emailSentTitle:"E-mail sent",forgotPasswordTitle:"Forgot your password?",insertCode:"Type the code",insertEmail:"Enter your e-mail",insertPhone:"Enter your mobile number",phoneErrorMessagePhrase:"Invalid phone number",prepositionIn:"in",prepositionOr:"or",recoveryPasswordPhrase:"To recover your password we will send you a {0} with instructions.",resendEmailButton:"Resend",resendSmsCodePhrase:"If the code does not arrive within a few minutes, please send it again.",sendAgainPhrase:"If the code does not arrive within a few minutes",sendAgain:"send again.",sendButton:"Submit",sentSmsCodePhrase:"We sent a code for your mobile phone.",sms:"SMS",smsCodeErrorMessagePhrase:"Invalid code. Please re-enter or contact support",supportContact:"If you do not have access to {0} contact support",telephone:"telephone",typeCodeTitle:"Enter sent code"},es:{cancelButton:"Cancelar",closeButton:"Cerrar",continueButton:"Continuar",email:"e-mail",emailErrorMessagePhrase:"Formato de correo electr\xF3nico no v\xE1lido",emailSentConfirmationPhrase:`Enviamos las instrucciones y enlace de creaci\xF3n de nueva contrase\xF1a para su correo electr\xF3nico.
    Si no ha recibido despu\xE9s de unos minutos, compruebe su caja de spam o haga clic en Reenviar`,emailSentTitle:"E-mail enviado",forgotPasswordTitle:"Olvidaste tu contrase\xF1a?",insertCode:"Introduzca el c\xF3digo",insertEmail:"Introduce tu e-mail",insertPhone:"Introduce tu n\xFAmero de celular",phoneErrorMessagePhrase:"N\xFAmero de tel\xE9fono no v\xE1lido",prepositionIn:"en",prepositionOr:"u",recoveryPasswordPhrase:"Para recuperar su contrase\xF1a vamos a enviar un {0} con instrucciones.",resendEmailButton:"Reenviar",resendSmsCodePhrase:"Si el c\xF3digo no llega dentro de unos minutos, vuelva a enviar.",sendAgain:"env\xEDe de nuevo.",sendAgainPhrase:"Si el c\xF3digo no llega dentro de unos minutos",sendButton:"Enviar",sentSmsCodePhrase:"Enviamos un c\xF3digo para su celular.",sms:"SMS",smsCodeErrorMessagePhrase:"C\xF3digo no v\xE1lido. Escriba de nuevo o p\xF3ngase en contacto con el soporte",supportContact:"Si no tiene acceso a {0} p\xF3ngase en contacto con el soporte",telephone:"tel\xE9fono",typeCodeTitle:"Escribir c\xF3digo enviado"},pt:{cancelButton:"Cancelar",closeButton:"Fechar",continueButton:"Continuar",email:"e-mail",emailErrorMessagePhrase:"Formato de e-mail inv\xE1lido",emailSentConfirmationPhrase:`Enviamos as instru\xE7\xF5es e link de cria\xE7\xE3o de nova senha para o seu e-mail.
    Caso n\xE3o tenha recebido ap\xF3s alguns minutos, verifique sua caixa de spam ou clique em Reenviar.`,emailSentTitle:"E-mail enviado",forgotPasswordTitle:"Esqueceu sua senha?",insertCode:"Digite o c\xF3digo",insertEmail:"Insira seu e-mail",insertPhone:"Insira seu n\xFAmero de celular",phoneErrorMessagePhrase:"N\xFAmero de telefone inv\xE1lido",prepositionIn:"em",prepositionOr:"ou",recoveryPasswordPhrase:"Para recuperar sua senha vamos enviar um {0} com instru\xE7\xF5es.",resendEmailButton:"Reenviar",resendSmsCodePhrase:"Se o c\xF3digo n\xE3o chegar dentro de alguns minutos envie novamente",sendAgain:"envie novamente.",sendAgainPhrase:"Se o c\xF3digo n\xE3o chegar dentro de alguns minutos",sendButton:"Enviar",sentSmsCodePhrase:"Enviamos um c\xF3digo para seu celular cadastrado.",sms:"SMS",smsCodeErrorMessagePhrase:"C\xF3digo inv\xE1lido. Digite novamente ou contacte o suporte",supportContact:"Se n\xE3o tiver acesso ao {0} contacte o suporte",telephone:"telefone",typeCodeTitle:"Digitar c\xF3digo enviado"},ru:{cancelButton:"\u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",closeButton:"\u0431\u043B\u0438\u0437\u043A\u043E",continueButton:"\u0431\u043B\u0438\u0437\u043A\u043E",email:"\u043F\u043E \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u0435",emailErrorMessagePhrase:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B",emailSentConfirmationPhrase:`\u041C\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u0438 \u043D\u043E\u0432\u0443\u044E \u0441\u0441\u044B\u043B\u043A\u0443 \u0434\u043B\u044F \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043F\u0430\u0440\u043E\u043B\u044F \u0434\u043B\u044F \u0432\u0430\u0448\u0435\u0439 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B.
\u0415\u0441\u043B\u0438 \u0432\u044B \u043D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u0438 \u0435\u0433\u043E \u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u0445 \u043C\u0438\u043D\u0443\u0442, \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0444\u043B\u0430\u0436\u043E\u043A \u0421\u043F\u0430\u043C \u0438\u043B\u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0414\u0430\u043B\u0435\u0435.`,emailSentTitle:"\u041F\u0438\u0441\u044C\u043C\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E",forgotPasswordTitle:"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",insertCode:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0434",insertEmail:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B",insertPhone:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440 \u0432\u0430\u0448\u0435\u0433\u043E \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430",phoneErrorMessagePhrase:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430",prepositionIn:"\u0432",prepositionOr:"\u0438\u043B\u0438",recoveryPasswordPhrase:"\u0414\u043B\u044F \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u0432\u0430\u0448\u0435\u0433\u043E \u043F\u0430\u0440\u043E\u043B\u044F \u043C\u044B \u0432\u044B\u0448\u043B\u0435\u043C {0} \u0441 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044F\u043C\u0438.",resendEmailButton:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0435\u0449\u0435 \u0440\u0430\u0437",resendSmsCodePhrase:"\u0415\u0441\u043B\u0438 \u043A\u043E\u0434 \u043D\u0435 \u043F\u0440\u0438\u0445\u043E\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043C\u0438\u043D\u0443\u0442, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.",sendAgain:"\u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043D\u043E\u0432\u0430.",sendAgainPhrase:"\u0415\u0441\u043B\u0438 \u043A\u043E\u0434 \u043D\u0435 \u043F\u0440\u0438\u0445\u043E\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043C\u0438\u043D\u0443\u0442",sendButton:"\u043F\u043E\u0441\u043B\u0430\u0442\u044C",sentSmsCodePhrase:"\u041C\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C \u043A\u043E\u0434 \u043D\u0430 \u0432\u0430\u0448 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D.",sms:"SMS",smsCodeErrorMessagePhrase:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043E\u0434. \u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u0438\u043B\u0438 \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0441\u043B\u0443\u0436\u0431\u0443 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438",supportContact:"\u0415\u0441\u043B\u0438 \u0443 \u0432\u0430\u0441 \u043D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430 \u043A {0}, \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0441\u043B\u0443\u0436\u0431\u0443 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438",telephone:"\u0442\u0435\u043B\u0435\u0444\u043E\u043D",typeCodeTitle:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0439 \u043A\u043E\u0434"}},_=function(t){return t.All="all",t.Email="email",t.SMS="sms",t}(_||{}),Yt=15,Xt=15,Mt="(99) 99999-9999",Dt=_.Email,Zt=(()=>{class t{codeError;urlRecovery;codeSubmit=new O;submit=new O;email;maxLength=Yt;minLength=Xt;modalPasswordRecoveryTypeAll;phone;smsCode;smsCodeErrorMessage;literals=St[Z];_contactEmail;_phoneMask=Mt;_type=Dt;set contactEmail(e){this._contactEmail=e,this.smsCodeErrorMessage=this.concatenateSMSErrorMessage(e)}get contactEmail(){return this._contactEmail}set phoneMask(e){this._phoneMask=e||Mt,this.minLength=this.maxLength=this._phoneMask.length}get phoneMask(){return this._phoneMask}set type(e){this._type=Object.values(_).includes(e)?e:Dt}get type(){return this._type}constructor(e){this.literals=y(y({},this.literals),St[e.getShortLanguage()])}concatenateSMSErrorMessage(e){let i=this.literals.smsCodeErrorMessagePhrase;return e&&e!==""?`${i} ${this.literals.prepositionIn} ${e}.`:i}static \u0275fac=function(i){return new(i||t)(b(U))};static \u0275dir=we({type:t,inputs:{codeError:[0,"p-code-error","codeError"],urlRecovery:[0,"p-url-recovery","urlRecovery"],contactEmail:[0,"p-contact-email","contactEmail"],phoneMask:[0,"p-phone-mask","phoneMask"],type:[0,"p-type","type"]},outputs:{codeSubmit:"p-code-submit",submit:"p-submit"}})}return t})(),W=function(t){return t.Email="email",t.SMSCode="smsCode",t.Confirmation="confirmation",t}(W||{}),qt=(()=>{class t{http;constructor(e){this.http=e}post(e,i,o){return this.http.post(e,i,{observe:"response",params:o})}static \u0275fac=function(i){return new(i||t)(E(q))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),ei=(()=>{class t{text;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=J({type:t,selectors:[["po-modal-password-recovery-error-message"]],inputs:{text:[0,"p-text","text"]},decls:4,vars:1,consts:[[1,"po-field-container-bottom-text-error","po-field-container-error-item"],["p-icon","ICON_EXCLAMATION"],[1,"po-field-container-error-text"]],template:function(i,o){i&1&&(a(0,"div",0),w(1,"po-icon",1),a(2,"span",2),h(3),l()()),i&2&&(r(3),T(o.text))},dependencies:[ke],encapsulation:2})}return t})(),ti=["emailForm"],ii=["recoveryModal"],oi=["smsCodeForm"];function ni(t,p){if(t&1){let e=M();a(0,"div")(1,"po-radio-group",18),A("ngModelChange",function(o){u(e);let n=c(2);return x(n.chosenTypeFormOption,o)||(n.chosenTypeFormOption=o),m(o)}),v("p-change",function(o){u(e);let n=c(2);return m(n.getInputType(o))}),l()()}if(t&2){let e=c(2);r(),k("ngModel",e.chosenTypeFormOption),s("p-options",e.typeFormOptions)}}function ri(t,p){if(t&1){let e=M();a(0,"po-email",19),A("ngModelChange",function(o){u(e);let n=c(2);return x(n.email,o)||(n.email=o),m(o)}),v("p-change-model",function(){u(e),c();let o=N(5),n=c();return m(n.formModelChangesCheck(o))}),l()}if(t&2){let e=c(2);k("ngModel",e.email),s("p-label",e.literals.insertEmail)}}function ai(t,p){if(t&1){let e=M();a(0,"po-input",20),A("ngModelChange",function(o){u(e);let n=c(2);return x(n.phone,o)||(n.phone=o),m(o)}),v("p-change-model",function(){u(e),c();let o=N(5),n=c();return m(n.formModelChangesCheck(o))}),l()}if(t&2){let e=c(2);k("ngModel",e.phone),s("p-label",e.literals.insertPhone)("p-mask",e.phoneMask)("p-maxlength",e.maxLength)("p-minlength",e.minLength)}}function si(t,p){if(t&1&&w(0,"po-modal-password-recovery-error-message",21),t&2){let e=c(2);s("p-text",e.type==="sms"?e.literals.phoneErrorMessagePhrase:e.literals.emailErrorMessagePhrase)}}function li(t,p){if(t&1&&(a(0,"span"),h(1),a(2,"a",22),h(3),l()()),t&2){let e=c(2);r(),P(" ",e.literals.prepositionIn," "),r(),He("href","mailto:",e.contactEmail,"",Ce),r(),P(" ",e.contactEmail," ")}}function ci(t,p){if(t&1&&(a(0,"div",8)(1,"div",9),h(2),l(),a(3,"div",10)(4,"form",null,1),f(6,ni,2,2,"div",11),a(7,"div",12),f(8,ri,1,2,"po-email",13)(9,ai,1,5,"po-input",14),l(),a(10,"div",15),f(11,si,1,1,"po-modal-password-recovery-error-message",16),l()()(),a(12,"div",17),h(13),f(14,li,4,4,"span",11),h(15),l()()),t&2){let e=c();r(2),P(" ",e.emailModalPhrases.firstPhrase," "),r(4),s("ngIf",e.modalPasswordRecoveryTypeAll),r(2),s("ngIf",e.type==="email"||e.type==="all"),r(),s("ngIf",e.type==="sms"),r(2),s("ngIf",e.invalidEmail&&e.control.dirty),r(2),P(" ",e.emailModalPhrases.secondPhrase," "),r(),s("ngIf",e.contactEmail),r(),P(" ",e.endpoint," ")}}function pi(t,p){if(t&1&&w(0,"po-modal-password-recovery-error-message",21),t&2){let e=c(2);s("p-text",e.smsCodeErrorMessage||e.literals.smsCodeErrorMessagePhrase)}}function di(t,p){if(t&1&&w(0,"po-modal-password-recovery-error-message",21),t&2){let e=c(2);s("p-text",e.codeError)}}function ui(t,p){if(t&1){let e=M();a(0,"div",8,2)(2,"div",9),h(3),l(),a(4,"div",10)(5,"form",null,3)(7,"po-input",23),A("ngModelChange",function(o){u(e);let n=c();return x(n.smsCode,o)||(n.smsCode=o),m(o)}),v("p-change-model",function(){u(e);let o=N(6),n=c();return m(n.formModelChangesCheck(o))}),l(),a(8,"div",15),f(9,pi,1,1,"po-modal-password-recovery-error-message",16)(10,di,1,1,"po-modal-password-recovery-error-message",16),l()()(),a(11,"div",17),h(12),a(13,"span",24),v("click",function(){u(e);let o=c();return m(o.resendSmsCode())}),h(14),l()()()}if(t&2){let e=c();r(3),T(e.literals.sentSmsCodePhrase),r(4),k("ngModel",e.smsCode),s("p-label",e.literals.insertCode)("p-mask",e.codeMask),r(2),s("ngIf",e.invalidEmail),r(),s("ngIf",e.showCustomCodeError),r(2),P(" ",e.literals.sendAgainPhrase," "),r(2),T(e.literals.sendAgain)}}function mi(t,p){if(t&1&&(a(0,"div",8,4),w(2,"img",25),a(3,"div",26),h(4),l()()),t&2){let e=c();r(4),P(" ",e.literals.emailSentConfirmationPhrase," ")}}var gi=(()=>{class t extends Zt{router;poI18nPipe;poModalPasswordRecoveryService;emailForm;recoveryModalElement;smsCodeForm;chosenTypeFormOption=_.Email;codeMask="9 9 9 9 9 9";control;emailModal=!0;emailModalPhrases={firstPhrase:null,secondPhrase:null};endpoint=".";invalidCode=!1;invalidEmail=!1;modalTitle;modalType=W.Email;showCustomCodeError;smsCodeErrorMessagePhrase;submittedCodeValue={};submittedContactValue={};primaryAction={label:void 0,action:()=>{}};secondaryAction={label:void 0,action:()=>{}};typeFormOptions=[{label:"e-mail",value:_.Email},{label:"SMS",value:_.SMS}];passwordRecoverySubscription;smsBodyResponse;smsCodeSubscription;constructor(e,i,o,n){super(n),this.router=e,this.poI18nPipe=i,this.poModalPasswordRecoveryService=o}ngOnDestroy(){this.passwordRecoverySubscription&&this.passwordRecoverySubscription.unsubscribe(),this.smsCodeSubscription&&this.smsCodeSubscription.unsubscribe()}completed(){this.cancelAction()}formModelChangesCheck(e){let i=e.invalid;if(this.invalidEmail=i&&e.dirty,this.primaryAction.disabled=i,this.modalType===W.SMSCode){let o=this.codeError!==void 0&&this.codeError!=="";this.showCustomCodeError=o&&e.pristine}}getInputType(e){this.type=e,this.pipeModalPhrases(),setTimeout(()=>{this.control=this.emailForm.controls[e],this.formModelChangesCheck(this.emailForm),this.resetFormFields(this.control)})}open(){let e=this.checkFormType(this.type);this.control=this.emailForm.controls[e],this.setEmailModalPhrasesAndActions(),this.formModelChangesCheck(this.emailForm),this.recoveryModalElement.open()}openConfirmation(){this.modalTitle=this.literals.emailSentTitle,this.modalType=W.Confirmation,this.setActions(this.cancelAction,this.literals.closeButton,this.submitAction,this.literals.resendEmailButton,!1)}openSmsCode(){this.modalTitle=this.literals.typeCodeTitle,this.modalType=W.SMSCode,this.setActions(this.submitSmsCodeAction,this.literals.continueButton,this.cancelAction,this.literals.cancelButton,!0),setTimeout(()=>{this.control=this.smsCodeForm.controls.sms,this.formModelChangesCheck(this.smsCodeForm)})}resendSmsCode(){this.incrementRetryAttempts(),this.urlRecovery?this.submitActionRequest(this.submittedContactValue,this.type):this.submit.emit(this.submittedContactValue)}assignSmsResponse(e){this.smsBodyResponse=Object.assign({},{hash:e.hash}),e.urlValidationCode&&(this.smsBodyResponse=Object.assign(this.smsBodyResponse,{urlValidationCode:e.urlValidationCode}))}cancelAction(){this.resetFormFields(this.control),this.submittedContactValue={},this.chosenTypeFormOption=_.Email,this.modalType=W.Email,this.type=this.modalPasswordRecoveryTypeAll?_.All:this.type,this.recoveryModalElement.close()}checkFormType(e){return e!==_.All?e:_.Email}formReset(e){e.markAsPristine(),e.markAsUntouched(),e.updateValueAndValidity()}getEmitValue(e){return e===_.SMS?this.phone:this.email}incrementRetryAttempts(){this.submittedContactValue.retry=this.submittedContactValue.retry+1||1}openExternalLink(e,i){window.open(`${e}?token=${i}`,"_self")}openInternalLink(e,i,o){this.router.navigate([`${e}/${i}`],{queryParams:{token:o}})}pipeModalPhrases(){this.type===_.SMS?(this.emailModalPhrases.firstPhrase=this.setPipeArguments(this.literals.recoveryPasswordPhrase,this.literals.sms),this.emailModalPhrases.secondPhrase=this.setPipeArguments(this.literals.supportContact,this.literals.telephone)):(this.emailModalPhrases.firstPhrase=this.setPipeArguments(this.literals.recoveryPasswordPhrase,this.literals.email),this.emailModalPhrases.secondPhrase=this.setPipeArguments(this.literals.supportContact,this.literals.email))}redirectToChangePassword(e){let i=e.urlChangePassword;i?ye(i)?this.openExternalLink(i,e.token):this.openInternalLink(this.urlRecovery,i,e.token):this.openInternalLink(this.urlRecovery,"changePassword",e.token)}resetFormFields(e){this.formReset(e),this.email=void 0,this.phone=void 0,this.smsCode=void 0}setActions(e,i,o,n,g){this.primaryAction.action=()=>e.call(this),this.primaryAction.label=i,this.secondaryAction.action=()=>o.call(this),this.secondaryAction.label=n,this.primaryAction.disabled=g}setEmailModalPhrasesAndActions(){this.modalTitle=this.literals.forgotPasswordTitle,this.pipeModalPhrases(),this.modalPasswordRecoveryTypeAll=this.type===_.All,this.setActions(this.submitAction,this.literals.sendButton,this.cancelAction,this.literals.cancelButton,!0)}setRequestEndpoint(e){let i=e||"validation";return`${this.urlRecovery}/${i}`}setPipeArguments(e,i){return this.poI18nPipe.transform(e,i)}submitAction(){this.modalType===W.Confirmation?this.incrementRetryAttempts():this.formReset(this.control),this.submittedContactValue[this.checkFormType(this.type)]=this.getEmitValue(this.type),this.urlRecovery?this.submitActionRequest(this.submittedContactValue,this.type):this.submit.emit(this.submittedContactValue)}submitActionRequest(e,i){let o=i===_.SMS?{type:"sms"}:void 0;this.passwordRecoverySubscription=this.poModalPasswordRecoveryService.post(this.urlRecovery,e,o).subscribe(n=>{(i===_.Email||i===_.All)&&n.status===204?this.openConfirmation():i===_.SMS&&n.status===200&&(this.assignSmsResponse(n.body),this.openSmsCode())})}submitSmsCodeAction(){this.submittedCodeValue.code=this.smsCode,this.urlRecovery?(this.submittedCodeValue=Object.assign(this.submittedCodeValue,{hash:this.smsBodyResponse.hash}),this.submitSmsCodeRequest(this.submittedCodeValue)):this.codeSubmit.emit(this.submittedCodeValue),this.resetFormFields(this.control)}submitSmsCodeRequest(e){this.smsCodeSubscription=this.poModalPasswordRecoveryService.post(this.setRequestEndpoint(this.smsBodyResponse.urlValidationCode),e).subscribe(i=>{i.status===200&&(this.completed(),this.redirectToChangePassword(i.body))},i=>{this.codeError=i.error.message,this.openSmsCode()})}static \u0275fac=function(i){return new(i||t)(b(se),b(ee),b(qt),b(U))};static \u0275cmp=J({type:t,selectors:[["po-modal-password-recovery"]],viewQuery:function(i,o){if(i&1&&(H(ti,5),H(ii,7),H(oi,5)),i&2){let n;z(n=$())&&(o.emailForm=n.first),z(n=$())&&(o.recoveryModalElement=n.first),z(n=$())&&(o.smsCodeForm=n.first)}},features:[Me],decls:6,vars:7,consts:[["recoveryModal",""],["emailForm","ngForm"],["smsCodeModal",""],["smsCodeForm","ngForm"],["confirmationModal",""],["p-hide-close","","p-size","auto",3,"ngSwitch","p-primary-action","p-secondary-action","p-title"],[1,"po-modal-password-recovery-wrapper"],["class","po-modal-password-recovery-content po-row",4,"ngSwitchCase"],[1,"po-modal-password-recovery-content","po-row"],[1,"po-modal-password-recovery-text","po-md-12","po-mb-1"],[1,"po-mb-2","po-md-12"],[4,"ngIf"],[1,"po-mt-1"],["name","email","p-required","",3,"ngModel","p-label","ngModelChange","p-change-model",4,"ngIf"],["name","sms","p-icon","ICON_TELEPHONE","p-required","",3,"ngModel","p-label","p-mask","p-maxlength","p-minlength","ngModelChange","p-change-model",4,"ngIf"],[1,"po-field-container-bottom","po-field-container-error-container"],[3,"p-text",4,"ngIf"],[1,"po-modal-password-recovery-text","po-md-12"],["name","type",3,"ngModelChange","p-change","ngModel","p-options"],["name","email","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label"],["name","sms","p-icon","ICON_TELEPHONE","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label","p-mask","p-maxlength","p-minlength"],[3,"p-text"],["target","_self",1,"po-modal-password-recovery-link",3,"href"],["name","sms","p-maxlength","11","p-minlength","11","p-required","",3,"ngModelChange","p-change-model","ngModel","p-label","p-mask"],[1,"po-modal-password-recovery-link",3,"click"],["src","./assets/images/email-sent.svg",1,"po-modal-password-recovery-user-image","po-mb-2"],[1,"po-modal-password-recovery-text"]],template:function(i,o){i&1&&(a(0,"po-modal",5,0)(2,"div",6),f(3,ci,16,8,"div",7)(4,ui,15,8,"div",7)(5,mi,5,1,"div",7),l()()),i&2&&(s("ngSwitch",o.modalType)("p-primary-action",o.primaryAction)("p-secondary-action",o.secondaryAction)("p-title",o.modalTitle),r(3),s("ngSwitchCase","email"),r(),s("ngSwitchCase","smsCode"),r(),s("ngSwitchCase","confirmation"))},dependencies:[G,Xe,Ze,Ee,le,De,ce,Y,ct,ht,Le,Ae,ei],encapsulation:2})}return t})(),Et=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({providers:[ee,qt],imports:[D,R,me,ue,X]})}return t})(),hi=["*"];function fi(t,p){if(t&1&&w(0,"po-logo",13),t&2){let e=c();s("p-link",!1)("p-logo",e.logo)("p-logo-alt",e.logoAlt)}}function yi(t,p){if(t&1){let e=M();a(0,"div",14)(1,"po-select",15),A("ngModelChange",function(o){u(e);let n=c();return x(n.selectedLanguageOption,o)||(n.selectedLanguageOption=o),m(o)}),v("p-change",function(){u(e);let o=c();return m(o.onChangeLanguage())}),l()()}if(t&2){let e=c();r(),k("ngModel",e.selectedLanguageOption),s("p-options",e.selectLanguageOptions)}}function vi(t,p){if(t&1&&w(0,"po-logo",16),t&2){let e=c();s("p-link",!1)("p-logo",e.secondaryLogo)}}function Pi(t,p){if(t&1&&(a(0,"div",17)(1,"div",18)(2,"div",19),h(3),l()()()),t&2){let e=c();Ue("background-image","url("+e.background+")"),s("ngClass",e.background?"po-page-login-highlight-image":"po-page-login-highlight-image-off"),r(3),T(e.highlightInfo)}}var _i=(()=>{class t{poLanguageService;background;initialSelectLanguage;hideLogo;highlightInfo;selectedLanguage=new O;selectedLanguageOption;_showSelectLanguage=!1;_languagesList;_selectLanguageOptions;set languagesList(e){this._languagesList=e,this.setLanguageOptions()}get languagesList(){return this._languagesList?.length?this._languagesList:de}logo;logoAlt;secondaryLogo;set showSelectLanguage(e){this._showSelectLanguage=Ie(e)}get showSelectLanguage(){return this._showSelectLanguage}constructor(e){this.poLanguageService=e}ngOnInit(){this.selectedLanguageOption=this.initialSelectLanguage||this.poLanguageService.getShortLanguage()}onChangeLanguage(){this.selectedLanguage.emit(this.selectedLanguageOption)}get selectLanguageOptions(){return this._selectLanguageOptions}setLanguageOptions(){this._selectLanguageOptions=this.languagesList.map(e=>({label:e.description,value:e.language}))}static \u0275fac=function(i){return new(i||t)(b(U))};static \u0275cmp=J({type:t,selectors:[["po-page-background"]],inputs:{background:[0,"p-background","background"],initialSelectLanguage:[0,"p-initial-language","initialSelectLanguage"],hideLogo:[0,"p-hide-logo","hideLogo"],highlightInfo:[0,"p-highlight-info","highlightInfo"],languagesList:[0,"p-languages","languagesList"],logo:[0,"p-logo","logo"],logoAlt:[0,"p-logo-alt","logoAlt"],secondaryLogo:[0,"p-secondary-logo","secondaryLogo"],showSelectLanguage:[0,"p-show-select-language","showSelectLanguage"]},outputs:{selectedLanguage:"p-selected-language"},ngContentSelectors:hi,decls:14,vars:7,consts:[[1,"po-page-login-container"],[1,"po-page-login-panel"],[1,"po-page-background-main-logo"],["p-class","po-page-background-main-logo-image",3,"p-link","p-logo","p-logo-alt",4,"ngIf"],[1,"po-page-login-body"],[1,"po-page-login-panel-content"],[1,"po-page-background-footer","po-sm-12"],[1,"po-page-background-footer-mobile-only"],[1,"po-page-background-footer-content"],["class","po-page-background-footer-select",4,"ngIf"],[1,"po-page-background-secondary-logo",3,"ngClass"],["p-class","po-page-background-secondary-logo-image","p-logo-alt","secondary-logomarca",3,"p-link","p-logo",4,"ngIf"],[3,"ngClass","background-image",4,"ngIf"],["p-class","po-page-background-main-logo-image",3,"p-link","p-logo","p-logo-alt"],[1,"po-page-background-footer-select"],["name","selectedLanguageOption",3,"ngModelChange","p-change","ngModel","p-options"],["p-class","po-page-background-secondary-logo-image","p-logo-alt","secondary-logomarca",3,"p-link","p-logo"],[3,"ngClass"],[1,"po-page-login-highlight-text"],[1,"po-font-display"]],template:function(i,o){i&1&&(We(),a(0,"div",0)(1,"div",1)(2,"div",2),f(3,fi,1,3,"po-logo",3),l(),a(4,"div",4)(5,"div",5),Je(6),l()(),a(7,"div",6),w(8,"po-divider",7),a(9,"div",8),f(10,yi,2,2,"div",9),a(11,"div",10),f(12,vi,1,2,"po-logo",11),l()()()(),f(13,Pi,4,4,"div",12),l()),i&2&&(r(2),F("po-page-background-hide-logo",o.hideLogo),r(),s("ngIf",o.logo),r(7),s("ngIf",o.showSelectLanguage),r(),s("ngClass",o.showSelectLanguage?"po-page-background-secondary-logo-right":"po-page-background-secondary-logo-centered"),r(),s("ngIf",o.secondaryLogo),r(),s("ngIf",o.background))},dependencies:[Ge,G,le,ce,it,Te,bt],encapsulation:2})}return t})(),ne=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[D,R,V,pe,me,wt]})}return t})(),Vt=function(t){return t.None="none",t.ExceededAttempts="exceededAttempts",t.ExpiredPassword="expiredPassword",t}(Vt||{}),an=Vt.None;var kt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[D,V,he,ne]})}return t})();var bi=(()=>{class t{http;constructor(e){this.http=e}post(e,i){return this.http.post(e,i,{observe:"response"})}static \u0275fac=function(i){return new(i||t)(E(q))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();var xt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({providers:[bi],imports:[D,R,V,he,ne]})}return t})(),wi={en:{errorRenderPage:"Error loading page",notPossibleLoadMetadataPage:"The page metadata could not be loaded"},es:{errorRenderPage:"Error al cargar la p\xE1gina",notPossibleLoadMetadataPage:"No se pudieron cargar los metadatos de la p\xE1gina."},pt:{errorRenderPage:"Erro ao carregar a p\xE1gina",notPossibleLoadMetadataPage:"N\xE3o foi poss\xEDvel carregar os metadados da p\xE1gina"},ru:{errorRenderPage:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",notPossibleLoadMetadataPage:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0442\u0430\u0434\u0430\u043D\u043D\u044B\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B"}},Ci=(()=>{class t{http;notification;headers=new ae({"X-PO-SCREEN-LOCK":"true"});endpoint="/";language;metadata;constructor(e,i,o){this.http=e,this.notification=i,this.language=o.getShortLanguage()}configServiceApi(e={}){this.endpoint=e.endpoint,this.metadata=e.metadata||this.metadata}getMetadata(e="list"){let i=`${this.endpoint}-${e}-metadata`,o=JSON.parse(localStorage.getItem(i))||{},g=`${this.metadata||`${this.endpoint}/metadata`}?type=${e}&version=${o.version||""}`;return this.http.get(g).pipe(K(d=>d.version!==void 0&&d.version===o.version?o:(localStorage.setItem(i,JSON.stringify(d)),y(y({},o),d))),Be(d=>{if(Object.keys(o).length)return be(o);let{errorRenderPage:B,notPossibleLoadMetadataPage:ve}=wi[this.language];return this.notification.warning(ve),je(be({title:B}),qe(d))}))}deleteResource(e,i){let o=this.getLocalEndPoint(i,!0),n=e?`${o}/${e}`:o;return this.http.delete(n,{headers:this.headers})}deleteResources(e,i){return this.http.request("delete",`${this.getLocalEndPoint(i)}`,{headers:this.headers,body:e})}getResources(e,i){return this.http.get(this.getLocalEndPoint(i),{headers:this.headers,params:e})}getResource(e,i){return this.http.get(`${this.getLocalEndPoint(i,!0)}/${e}`,{headers:this.headers})}createResource(e,i){return this.http.post(`${this.getLocalEndPoint(i)}`,e,{headers:this.headers})}updateResource(e,i,o){return this.http.put(`${this.getLocalEndPoint(o,!0)}/${e}`,i,{headers:this.headers})}getLocalEndPoint(e,i=!1){return e=e??this.endpoint,i&&(e=e==="/"?"":e),e}static \u0275fac=function(i){return new(i||t)(E(q),E(mt),E(U))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Si=(()=>{class t{http;constructor(e){this.http=e}getCustomOptions(e,i,o){return this.createObservable(e).pipe(K(n=>this.mergePageOptions(i,n,o)))}changeOriginalOptionsToNewOptions(e,i){Object.keys(i).forEach(o=>{let n=i[o];if(o in e){if(Array.isArray(n)){e[o]=[...n];return}if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"){e[o]=n;return}n!==null&&typeof n=="object"&&(e[o]=y({},n))}})}createObservable(e){return typeof e=="string"?this.http.post(e,{}):Ne(Promise.resolve(e()))}mergePageOptions(e,i,o){let n=o.schema.reduce((g,d)=>Pe(y({},g),{[d.nameProp]:this.createNewProp(d,e,i)}),{});return Object.keys(n).forEach(g=>n[g]===void 0&&delete n[g]),n}createNewProp(e,i,o){return e.merge?this.mergeOptions(i[e.nameProp],o[e.nameProp],e.keyForMerge):o[e.nameProp]??i[e.nameProp]}mergeOptions(e,i,o){if(!(!e&&!i))return i?e?e instanceof Array&&i instanceof Array?this.mergeOptionsArray(e,i,o):y(y({},e),i):i:e}mergeOptionsArray(e,i,o){let n=i.filter(d=>!e.find(B=>B[o]===d[o]));return[...e.map(d=>{let B=i.find(ve=>d[o]===ve[o])||d;return y(y({},d),B)}),...n]}static \u0275fac=function(i){return new(i||t)(E(q))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var re=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({providers:[Ci],imports:[D]})}return t})(),At=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[D,R,V,te,X,ue,ie,ge,re]})}return t})();var Lt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[D,R,V,xe,pe,te,_t,X,ie,ge,re]})}return t})(),fe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({providers:[Si],imports:[D]})}return t})(),L={en:{title:"Advanced search",cancelLabel:"Cancel",confirmLabel:"Apply filters"},es:{title:"B\xFAsqueda avanzada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},pt:{title:"Busca avan\xE7ada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},ru:{title:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",cancelLabel:"\u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",confirmLabel:"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"}};var sn={en:{disclaimerGroupTitle:"Displaying results filtered by:",filterTitle:L.en.title,filterCancelLabel:L.en.cancelLabel,filterConfirmLabel:L.en.confirmLabel,quickSearchLabel:"Quick search:",searchPlaceholder:"Search"},es:{disclaimerGroupTitle:"Presentando resultados filtrados por:",filterTitle:L.es.title,filterCancelLabel:L.es.cancelLabel,filterConfirmLabel:L.es.confirmLabel,quickSearchLabel:"B\xFAsqueda r\xE1pida:",searchPlaceholder:"Buscar"},pt:{disclaimerGroupTitle:"Apresentando resultados filtrados por:",filterTitle:L.pt.title,filterCancelLabel:L.pt.cancelLabel,filterConfirmLabel:L.pt.confirmLabel,quickSearchLabel:"Pesquisa r\xE1pida:",searchPlaceholder:"Pesquisar"},ru:{disclaimerGroupTitle:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432, \u043E\u0442\u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043F\u043E:",filterTitle:L.ru.title,filterCancelLabel:L.ru.cancelLabel,filterConfirmLabel:L.ru.confirmLabel,quickSearchLabel:"\u0411\u044B\u0441\u0442\u0440\u044B\u0439 \u043F\u043E\u0438\u0441\u043A:",searchPlaceholder:"\u0438\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u0435"}};var Fe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[D,R,V,te,at,ue,ie,fe]})}return t})();var Tt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[D,R,V,vt,Fe,fe,re]})}return t})();var jt=(()=>{class t{http;headers=new ae({"X-PO-SCREEN-LOCK":"true"});endpoint="/";constructor(e){this.http=e}configServiceApi(e={}){this.endpoint=e.endpoint}createResource(e){let i=this.convertToJobScheduler(e);return this.http.post(`${this.endpoint}`,i,{headers:this.headers})}getHeadProcesses(){let e={"X-PO-No-Error":"true"};return this.http.head(`${this.endpoint}/processes`,{headers:e})}getParametersByProcess(e){return this.http.get(`${this.endpoint}/processes/${e}/parameters`,{headers:this.headers}).pipe(K(i=>i.items))}getProcess(e){return this.http.get(`${this.endpoint}/processes/${e}`,{headers:this.headers})}getProcesses(e={}){return this.http.get(`${this.endpoint}/processes`,{params:e})}getResource(e){return this.http.get(`${this.endpoint}/${e}`,{headers:this.headers}).pipe(K(i=>this.convertToJobSchedulerInternal(i)))}updateResource(e,i){let o=this.convertToJobScheduler(i);return this.http.put(`${this.endpoint}/${e}`,o,{headers:this.headers})}convertToJobScheduler(e){let i=y({},e);if(e.periodicity&&(e.periodicity==="single"?i.recurrent=!1:Object.assign(i,this.convertToPeriodicity(e))),e.firstExecutionHour&&(i.firstExecution=this.replaceHourFirstExecution(e.firstExecution,e.firstExecutionHour)),e.frequency&&e.frequency.type){if(i.rangeExecutions={frequency:y({},e.frequency)},e.rangeLimitHour){let o=e.rangeLimitHour.split(":");i.rangeExecutions.rangeLimit={hour:parseInt(o[0],10),minute:parseInt(o[1],10)}}e.rangeLimitDay&&(i.rangeExecutions.rangeLimit=Pe(y({},i.rangeExecutions.rangeLimit),{day:e.rangeLimitDay}))}return Object.keys(this.returnValidExecutionParameter(i.executionParameter)).length||delete i.executionParameter,this.removeInvalidKeys(i),i}convertToJobSchedulerInternal(e={}){let i=y({},e);return e.firstExecution&&(i.firstExecutionHour=this.getHourFirstExecution(e.firstExecution)),Object.assign(i,this.convertToPeriodicityInternal(e)),e.rangeExecutions&&(i.rangeLimitHour=`${e.rangeExecutions.rangeLimit.hour<10?"0"+e.rangeExecutions.rangeLimit.hour:e.rangeExecutions.rangeLimit.hour}:${e.rangeExecutions.rangeLimit.minute<10?"0"+e.rangeExecutions.rangeLimit.minute:e.rangeExecutions.rangeLimit.minute}`,i.rangeLimitDay=e.rangeExecutions.rangeLimit.day,i.frequency={type:e.rangeExecutions.frequency.type,value:e.rangeExecutions.frequency.value}),this.removeInvalidKeys(i,["weekly","monthly","daily"]),i}convertToPeriodicity(e){let i={},o=e.periodicity;return o&&(i[o]={},o==="monthly"?i[o].day=e.dayOfMonth?parseInt(e.dayOfMonth,10):0:o==="weekly"&&(i[o].daysOfWeek=e.daysOfWeek),i[o].hour=e.hour?parseInt(e.hour.split(":")[0],10):0,i[o].minute=e.hour?parseInt(e.hour.split(":")[1],10):0),i}convertToPeriodicityInternal(e={}){return e.monthly?{periodicity:"monthly",hour:`${j(e.monthly.hour)}:${j(e.monthly.minute)}`,dayOfMonth:e.monthly.day}:e.daily?{periodicity:"daily",hour:`${j(e.daily.hour)}:${j(e.daily.minute)}`}:e.weekly?{periodicity:"weekly",hour:`${j(e.weekly.hour)}:${j(e.weekly.minute)}`,daysOfWeek:[...e.weekly.daysOfWeek]}:{periodicity:"single"}}getCurrentHour(e){let i=j(e.getHours()),o=j(e.getMinutes());return`${i}:${o}`}getHourFirstExecution(e){return this.getCurrentHour(new Date(e))}removeInvalidKeys(e,i){let o=i||["periodicity","hour","minute","day","daysOfWeek","dayOfMonth","firstExecutionHour","frequency","rangeLimitHour","rangeLimitDay"];Object.keys(e).forEach(n=>{(o.includes(n)||n==="rangeExecutions"&&e.periodicity==="single")&&delete e[n]})}replaceHourFirstExecution(e,i){let o=new Date(e),n=i.split(":"),g=parseInt(n[0],10),d=parseInt(n[1],10);return o.setHours(g,d),Kt(o)}returnValidExecutionParameter(e){let i=y({},e);for(let o in i)i.hasOwnProperty(o)&&i[o]===void 0&&delete i[o];return i}static \u0275fac=function(i){return new(i||t)(E(q))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();var Mi=(()=>{class t{poPageJobSchedulerService;constructor(e){this.poPageJobSchedulerService=e}getFilteredItems({filter:e,page:i,pageSize:o}){let n={page:i,pageSize:o,search:e};return this.poPageJobSchedulerService.getProcesses(n)}getObjectByValue(e){return this.poPageJobSchedulerService.getProcess(e)}static \u0275fac=function(i){return new(i||t)(E(jt))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();var It=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({providers:[jt,Mi],imports:[D,R,xe,lt,dt,pe,te,me,X,Pt,ie,Ct,ge]})}return t})(),oe=function(t){return t.Basic="Basic",t.Bearer="Bearer",t}(oe||{}),Oe=(()=>{class t{http;constructor(e){this.http=e}onLogin(e,i,o){if(i===oe.Bearer)return o.password=btoa(o.password),this.http.post(e,o);{let n=`(${o.login}:${o.password})`,g=new ae({Authorization:`${i} `+btoa(n)});return delete o.login,delete o.password,this.http.post(e,o,{headers:g})}}static \u0275fac=function(i){return new(i||t)(E(q))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),Ft=40,Re={en:{title:"Welcome",loginErrorPattern:"Invalid Login",loginHint:`Your login user was given to you at your first day.
    If you don't have this information contact support`,loginPlaceholder:"Insert your e-mail",passwordErrorPattern:"Invalid Password",passwordPlaceholder:"Insert your password",customFieldErrorPattern:"Invalid value",customFieldPlaceholder:"Please enter a value",rememberUser:"Automatic login",rememberUserHint:"You can disable this option in system configuration",submitLabel:"Enter",submittedLabel:"Loading...",forgotPassword:"Forgot your Password?",highlightInfo:"",registerUrl:"New register",titlePopover:"Oops!",forgotYourPassword:"Forgot your password?",ifYouTryHarder:"If you try ",attempts:"{0} more time(s) ",yourUserWillBeBlocked:"without success your user will be blocked and you will be left 24 hours without being able to access :(",createANewPasswordNow:"Better create a new password now! You will be able to log into the system right away.",iForgotMyPassword:"I forgot my password",welcome:"Welcome",support:"Support"},es:{title:"Bienvenido",loginErrorPattern:"Login inv\xE1lido",loginHint:`Su usuario ha sido entregado para usted en su primer d\xEDa.
    Si no tiene esta informaci\xF3n, p\xF3ngase en contacto con el soporte t\xE9cnico`,loginPlaceholder:"Inserte su e-mail",passwordErrorPattern:"Contrase\xF1a inv\xE1lida",passwordPlaceholder:"Inserte su contrase\xF1a",customFieldErrorPattern:"Valor no v\xE1lido.",customFieldPlaceholder:"Por favor introduzca un valor",rememberUser:"Inicio de sesi\xF3n autom\xE1ticamente",rememberUserHint:"Puede deshabilitar esta opci\xF3n en el men\xFA del sistema.",submitLabel:"Entrar",submittedLabel:"Cargando...",forgotPassword:"Olvidaste tu contrase\xF1a?",highlightInfo:"",registerUrl:"Nuevo registro",titlePopover:"Opa!",forgotYourPassword:"Olvidaste tu contrase\xF1a?",ifYouTryHarder:"Si intenta m\xE1s ",attempts:"{0} vez/veces ",yourUserWillBeBlocked:"sin \xE9xito su usuario sera bloqueado y usted v\xE1s permanecer 24 horas sin poder acceder a :(",createANewPasswordNow:"\xA1Mejor crear una nueva contrase\xF1a ahora! Usted podr\xE1 entrar en el sistema inmediatamente despu\xE9s.",iForgotMyPassword:"Olvide mi contrase\xF1a",welcome:"Bienvenido",support:"Soporte"},pt:{title:"Bem-vindo",loginErrorPattern:"Login inv\xE1lido",loginHint:`Seu usu\xE1rio foi entregue a voc\xEA no seu primeiro dia.
    Caso n\xE3o tenha mais essa informa\xE7\xE3o contacte o suporte`,loginPlaceholder:"Insira seu e-mail",passwordErrorPattern:"Senha inv\xE1lida",passwordPlaceholder:"Insira sua senha",customFieldErrorPattern:"Valor inv\xE1lido.",customFieldPlaceholder:"Por favor insira um valor",rememberUser:"Logar automaticamente",rememberUserHint:"Voc\xEA pode desabilitar essa op\xE7\xE3o no menu do sistema",submitLabel:"Entrar",submittedLabel:"Carregando...",forgotPassword:"Esqueceu sua senha?",highlightInfo:"",registerUrl:"Novo registro",titlePopover:"Opa!",forgotYourPassword:"Esqueceu sua senha?",ifYouTryHarder:"Se tentar mais ",attempts:"{0} vez(es) ",yourUserWillBeBlocked:"sem sucesso seu usu\xE1rio ser\xE1 bloqueado e voc\xEA fica 24 horas sem poder acessar :(",createANewPasswordNow:"Melhor criar uma senha nova agora! Voc\xEA vai poder entrar no sistema logo em seguida.",iForgotMyPassword:"Esqueci minha senha",welcome:"Boas-vindas",support:"Suporte"},ru:{title:"\u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C!",loginErrorPattern:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043B\u043E\u0433\u0438\u043D",loginHint:`\u0412\u0430\u0448 \u043B\u043E\u0433\u0438\u043D \u0431\u044B\u043B \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D \u0432\u0430\u043C \u0432 \u043F\u0435\u0440\u0432\u044B\u0439 \u0434\u0435\u043D\u044C.
    \u0415\u0441\u043B\u0438 \u0443 \u0432\u0430\u0441 \u043D\u0435\u0442 \u044D\u0442\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438, \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0441\u043B\u0443\u0436\u0431\u0443 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438`,loginPlaceholder:"\u0412\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0441\u0432\u043E\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B",passwordErrorPattern:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",passwordPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",customFieldErrorPattern:"\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435.",customFieldPlaceholder:"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",rememberUser:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u0445\u043E\u0434",rememberUserHint:"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u044D\u0442\u0443 \u043E\u043F\u0446\u0438\u044E \u0432 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0438\u0441\u0442\u0435\u043C\u044B",submitLabel:"\u0412\u043E\u0439\u0442\u0438",submittedLabel:"3\u0430\u0433\u0440\u0443\u0437\u043A\u0430...",forgotPassword:"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",highlightInfo:"",registerUrl:"\u041D\u043E\u0432\u044B\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440",titlePopover:"\u041E\u0439!",forgotYourPassword:"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",ifYouTryHarder:"\u0415\u0441\u043B\u0438 \u0432\u044B \u0431\u0435\u0437\u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u043F\u044B\u0442\u0430\u0435\u0442\u0435\u0441\u044C \u0432\u043E\u0439\u0442\u0438 \u0435\u0449\u0435 ",attempts:"{0} \u0440\u0430\u0437(\u0430) ",yourUserWillBeBlocked:"\u0412\u0430\u0448 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D, \u0438 \u0412\u044B \u043E\u0441\u0442\u0430\u043D\u0435\u0442\u0435\u0441\u044C \u043D\u0430 24 \u0447\u0430\u0441\u0430 \u0431\u0435\u0437 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0434\u043E\u0441\u0442\u0443\u043F\u0430 :(",createANewPasswordNow:"\u041B\u0443\u0447\u0448\u0435 \u0441\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C \u0441\u0435\u0439\u0447\u0430\u0441!\xA0\u0412\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u0440\u0430\u0437\u0443 \u0432\u043E\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443.",iForgotMyPassword:"\u042F \u0437\u0430\u0431\u044B\u043B \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",welcome:"\u0434\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C",support:"\u041F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0430"}},Di={en:"in",es:"en",pt:"em",ru:"\u0432"},Ei=(()=>{class t{loginService;router;poLanguageService;background;logo;loginPattern;passwordPattern;secondaryLogo;loginChange=new O;loginSubmit=new O;passwordChange=new O;languageChange=new O;noAutocompleteLogin;noAutocompletePassword;hidePasswordPeek;allLoginErrors=[];allPasswordErrors=[];customFieldObject;customFieldType;loginSubscription;password;rememberUser=!1;selectedLanguage;showExceededAttemptsWarning=!1;_authenticationType=oe.Basic;_authenticationUrl;_blockedUrl;_contactEmail;_customField;_environment;_exceededAttemptsWarning;_hideRememberUser=!1;_literals;_loading=!1;_login;_loginErrors=[];_passwordErrors=[];_productName;_recovery;_registerUrl;_support;_languagesList;set customField(e){if(e){if(Q(e,"string")){this.customFieldType="input",this._customField=e,this.customFieldObject=this.getDefaultCustomFieldObject(e);return}if(Q(e,"object")&&!Array.isArray(e)&&e.property){this._customField=e,this.customFieldObject=e,!this.customFieldObject.options&&!this.customFieldObject.url?this.customFieldType="input":this.customFieldType=this.customFieldObject.options?"select":"combo";return}}this._customField=void 0,this.customFieldObject=void 0}get customField(){return this._customField}set contactEmail(e){this._contactEmail=e}get contactEmail(){return this._contactEmail}set productName(e){this._productName=e}get productName(){return this._productName}set environment(e){e&&e.length>Ft?this._environment=e.substring(0,Ft):this._environment=e}get environment(){return this._environment}set exceededAttemptsWarning(e){this._exceededAttemptsWarning=Qt(e),this.showExceededAttemptsWarning=this.exceededAttemptsWarning>0}get exceededAttemptsWarning(){return this._exceededAttemptsWarning}set hideRememberUser(e){this._hideRememberUser=e===""?!0:Ie(e),this._hideRememberUser&&(this.rememberUser=!1)}get hideRememberUser(){return this._hideRememberUser}set literals(e){this._literals=e}get literals(){return this._literals}set loading(e){this._loading=Ie(e)}get loading(){return this._loading}set login(e){this._login=e,this.authenticationUrl||this.loginChange.emit(this._login)}get login(){return this._login}set loginErrors(e){this._loginErrors=e||[],this.setLoginErrors(this._loginErrors)}get loginErrors(){return this._loginErrors}set passwordErrors(e){this._passwordErrors=e||[],this.setPasswordErrors(this._passwordErrors)}get passwordErrors(){return this._passwordErrors}set recovery(e){this._recovery=e}get recovery(){return this._recovery}set registerUrl(e){this._registerUrl=Q(e,"string")?e:void 0}get registerUrl(){return this._registerUrl}set authenticationType(e){this._authenticationType=Object.values(oe).includes(e)?e:oe.Basic}get authenticationType(){return this._authenticationType}set authenticationUrl(e){this._authenticationUrl=Q(e,"string")?e:void 0}get authenticationUrl(){return this._authenticationUrl}set blockedUrl(e){this._blockedUrl=Q(e,"string")?e:void 0}get blockedUrl(){return this._blockedUrl}set support(e){this._support=e}get support(){return this._support}set languagesList(e){e&&(e.length?this._languagesList=e:this._languagesList=de.filter(i=>i.language===this.language))}get languagesList(){return this._languagesList?this._languagesList:de}get showLanguage(){return this.languagesList.length>1}get language(){return this.selectedLanguage||$t()}get pageLoginLiterals(){let e=this.contactEmail?this.concatenateLoginHintWithContactEmail(this.contactEmail):void 0;return y(y(y(y({},Re[Z]),Re[this.language]),e),this.literals)}constructor(e,i,o){this.loginService=e,this.router=i,this.poLanguageService=o,this.selectedLanguage=this.poLanguageService.getShortLanguage()}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe()}closePopover(){this.showExceededAttemptsWarning=!1}onLoginSubmit(){let e={login:this.login,password:this.password,rememberUser:this.rememberUser};this.customField&&(e[this.customFieldObject.property]=this.customFieldObject.value),this.authenticationUrl?(this.loading=!0,this.loginSubscription=this.loginService.onLogin(this.authenticationUrl,this.authenticationType,e).subscribe(i=>{this.setValuesToProperties(),sessionStorage.setItem("PO_USER_LOGIN",JSON.stringify(i)),this.openInternalLink("/"),this.loading=!1},i=>{(i.error.code==="400"||i.error.code==="401")&&(this.setValuesToProperties(i),this.redirectBlockedUrl(this.exceededAttemptsWarning,this.blockedUrl)),this.loading=!1})):(this.loginSubmit.emit(e),this.showExceededAttemptsWarning=this.exceededAttemptsWarning>0)}getDefaultCustomFieldObject(e){return{property:e}}openExternalLink(e){window.open(e,"_blank")}openInternalLink(e){this.router.navigate([e])}redirectBlockedUrl(e,i){e===0&&i&&(this.showExceededAttemptsWarning=!1,ye(i)?this.openExternalLink(i):this.openInternalLink(i))}setValuesToProperties(e){e?(this.exceededAttemptsWarning=e.error.maxAttemptsRemaining,this.loginErrors=e.error.loginWarnings,this.passwordErrors=e.error.passwordWarnings,this.blockedUrl=e.error.blockedUrl):(this.exceededAttemptsWarning=0,this.loginErrors=[],this.passwordErrors=[],this.blockedUrl="")}static \u0275fac=function(i){return new(i||t)(b(Oe),b(se),b(U))};static \u0275dir=we({type:t,inputs:{background:[0,"p-background","background"],logo:[0,"p-logo","logo"],loginPattern:[0,"p-login-pattern","loginPattern"],passwordPattern:[0,"p-password-pattern","passwordPattern"],secondaryLogo:[0,"p-secondary-logo","secondaryLogo"],noAutocompleteLogin:[0,"p-no-autocomplete-login","noAutocompleteLogin"],noAutocompletePassword:[0,"p-no-autocomplete-password","noAutocompletePassword"],hidePasswordPeek:[0,"p-hide-password-peek","hidePasswordPeek"],customField:[0,"p-custom-field","customField"],contactEmail:[0,"p-contact-email","contactEmail"],productName:[0,"p-product-name","productName"],environment:[0,"p-environment","environment"],exceededAttemptsWarning:[0,"p-exceeded-attempts-warning","exceededAttemptsWarning"],hideRememberUser:[0,"p-hide-remember-user","hideRememberUser"],literals:[0,"p-literals","literals"],loading:[0,"p-loading","loading"],login:[0,"p-login","login"],loginErrors:[0,"p-login-errors","loginErrors"],passwordErrors:[0,"p-password-errors","passwordErrors"],recovery:[0,"p-recovery","recovery"],registerUrl:[0,"p-register-url","registerUrl"],authenticationType:[0,"p-authentication-type","authenticationType"],authenticationUrl:[0,"p-authentication-url","authenticationUrl"],blockedUrl:[0,"p-blocked-url","blockedUrl"],support:[0,"p-support","support"],languagesList:[0,"p-languages","languagesList"]},outputs:{loginChange:"p-login-change",loginSubmit:"p-login-submit",passwordChange:"p-password-change",languageChange:"p-language-change"}})}return t})();function ki(t,p){if(t&1&&(a(0,"a",12),h(1),l()),t&2){let e=c(2);s("routerLink",e.recovery),r(),P(" ",e.literals==null?null:e.literals.iForgotMyPassword," ")}}function xi(t,p){if(t&1&&(a(0,"a",13),h(1),l()),t&2){let e=c(2);s("href",e.recovery,Ce),r(),P(" ",e.literals==null?null:e.literals.iForgotMyPassword," ")}}function Ai(t,p){if(t&1){let e=M();a(0,"a",14),v("click",function(){u(e);let o=c(2);return m(o.onForgotPasswordClick(o.recovery))}),h(1),l()}if(t&2){let e=c(2);r(),P(" ",e.literals==null?null:e.literals.iForgotMyPassword," ")}}function Li(t,p){if(t&1&&(a(0,"div",8),f(1,ki,2,2,"a",9)(2,xi,2,2,"a",10)(3,Ai,2,1,"a",11),l()),t&2){let e=c();r(),s("ngIf",e.recoveryType==="internalLink"),r(),s("ngIf",e.recoveryType==="externalLink"),r(),s("ngIf",!e.recoveryType)}}var Ti=(()=>{class t{literals;set recovery(e){this._recovery=e,Q(e,"string")&&(this.recoveryType=ye(e)?"externalLink":"internalLink")}get recovery(){return this._recovery}remainingAttempts;forgotPassword=new O;recoveryType;_recovery;onForgotPasswordClick(e){this.forgotPassword.emit(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=J({type:t,selectors:[["po-page-login-popover"]],inputs:{literals:[0,"p-literals","literals"],recovery:[0,"p-recovery","recovery"],remainingAttempts:[0,"p-remaining-attempts","remainingAttempts"]},outputs:{forgotPassword:"p-forgot-password"},decls:18,vars:10,consts:[[1,"po-page-login-popover-container"],[1,"po-page-login-popover"],[1,"po-page-login-popover-arrow"],[1,"po-page-login-popover-content"],[1,"po-font-text-bold","po-page-login-popover-title"],[1,"po-font-text"],[1,"po-font-text-bold","po-page-login-popover-attempts"],["class","po-font-text-bold po-mt-1 po-page-login-popover-link-container",4,"ngIf"],[1,"po-font-text-bold","po-mt-1","po-page-login-popover-link-container"],["class","po-page-login-popover-link",3,"routerLink",4,"ngIf"],["class","po-page-login-popover-link","target","_blank",3,"href",4,"ngIf"],["class","po-page-login-popover-link",3,"click",4,"ngIf"],[1,"po-page-login-popover-link",3,"routerLink"],["target","_blank",1,"po-page-login-popover-link",3,"href"],[1,"po-page-login-popover-link",3,"click"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"div",1),w(2,"div",2),a(3,"div",3)(4,"p",4),h(5),l(),a(6,"p",5),h(7),l(),a(8,"p",5),h(9),a(10,"span",6),h(11),ze(12,"poI18n"),l(),h(13),l(),w(14,"br"),a(15,"p",5),h(16),l(),f(17,Li,4,3,"div",7),l()()()),i&2&&(r(5),P(" ",o.literals==null?null:o.literals.titlePopover," "),r(2),P(" ",o.literals==null?null:o.literals.forgotYourPassword," "),r(2),P(" ",o.literals==null?null:o.literals.ifYouTryHarder," "),r(2),P(" ",$e(12,7,o.literals==null?null:o.literals.attempts,o.remainingAttempts)," "),r(2),P("",o.literals==null?null:o.literals.yourUserWillBeBlocked," "),r(3),P(" ",o.literals==null?null:o.literals.createANewPasswordNow," "),r(),s("ngIf",o.recovery))},dependencies:[G,tt,ee],encapsulation:2})}return t})(),Ii=["loginForm"],Fi=["pageLogin"];function Ri(t,p){if(t&1&&w(0,"po-tag",28),t&2){let e=c();s("p-value",e.environment)}}function Oi(t,p){if(t&1&&w(0,"po-icon",31),t&2){let e=c(2);s("p-tooltip",e.pageLoginLiterals.loginHint)}}function Ni(t,p){if(t&1&&(a(0,"div",29),f(1,Oi,1,1,"po-icon",30),l()),t&2){let e=c();F("po-page-login-info-icon-container-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),r(),s("ngIf",e.pageLoginLiterals.loginHint)}}function qi(t,p){if(t&1&&(a(0,"div",32),w(1,"po-icon",33),a(2,"span",34),h(3),l()()),t&2){let e=p.$implicit;r(3),T(e)}}function Vi(t,p){if(t&1){let e=M();a(0,"po-page-login-popover",37),v("p-forgot-password",function(o){u(e);let n=c(2);return m(n.openUrl(o))}),l()}if(t&2){let e=c(2);s("p-literals",e.pageLoginLiterals)("p-recovery",e.recovery)("p-remaining-attempts",e.exceededAttemptsWarning)}}function ji(t,p){if(t&1&&(a(0,"div",35),f(1,Vi,1,3,"po-page-login-popover",36),l()),t&2){let e=c();r(),s("ngIf",e.showExceededAttemptsWarning&&e.exceededAttemptsWarning)}}function Bi(t,p){if(t&1&&(a(0,"div",32),w(1,"po-icon",33),a(2,"span",34),h(3),l()()),t&2){let e=p.$implicit;r(3),T(e)}}function Ui(t,p){if(t&1){let e=M();a(0,"po-input",38),A("ngModelChange",function(o){u(e);let n=c();return x(n.customFieldObject.value,o)||(n.customFieldObject.value=o),m(o)}),v("keyup.enter",function(){u(e);let o=c(),n=N(14);return m(n.valid&&o.onLoginSubmit())}),l()}if(t&2){let e=c();F("po-page-login-field-size-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),k("ngModel",e.customFieldObject.value),s("p-error-pattern",e.customFieldObject.errorPattern||e.pageLoginLiterals.customFieldErrorPattern)("p-pattern",e.customFieldObject.pattern)("p-placeholder",e.customFieldObject.placeholder||e.pageLoginLiterals.customFieldPlaceholder)}}function Wi(t,p){if(t&1){let e=M();a(0,"po-combo",39),A("ngModelChange",function(o){u(e);let n=c();return x(n.customFieldObject.value,o)||(n.customFieldObject.value=o),m(o)}),l()}if(t&2){let e=c();F("po-page-login-field-size-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),k("ngModel",e.customFieldObject.value),s("p-field-value",e.customFieldObject.fieldValue)("p-filter-service",e.customFieldObject.url)("p-placeholder",e.customFieldObject.placeholder||e.pageLoginLiterals.customFieldPlaceholder)}}function Ji(t,p){if(t&1){let e=M();a(0,"po-select",40),A("ngModelChange",function(o){u(e);let n=c();return x(n.customFieldObject.value,o)||(n.customFieldObject.value=o),m(o)}),l()}if(t&2){let e=c();F("po-page-login-field-size-dynamic",!e.pageLoginLiterals.loginHint&&!e.pageLoginLiterals.rememberUserHint),k("ngModel",e.customFieldObject.value),s("p-placeholder",e.customFieldObject.placeholder||e.pageLoginLiterals.customFieldPlaceholder)("p-options",e.customFieldObject.options)}}function Hi(t,p){if(t&1&&w(0,"po-icon",31),t&2){let e=c(3);s("p-tooltip",e.pageLoginLiterals.rememberUserHint)}}function zi(t,p){if(t&1&&(a(0,"div",43),f(1,Hi,1,1,"po-icon",30),l()),t&2){let e=c(2);F("po-page-login-info-icon-container-dynamic",!e.pageLoginLiterals.rememberUserHint),r(),s("ngIf",e.pageLoginLiterals.rememberUserHint)}}function $i(t,p){if(t&1){let e=M();a(0,"div",13)(1,"po-switch",41),A("ngModelChange",function(o){u(e);let n=c();return x(n.rememberUser,o)||(n.rememberUser=o),m(o)}),v("keyup.enter",function(){u(e);let o=c(),n=N(14);return m(n.valid&&o.onLoginSubmit())}),l(),f(2,zi,2,3,"div",42),l()}if(t&2){let e=c();r(),k("ngModel",e.rememberUser),s("p-label-off",e.pageLoginLiterals.rememberUser)("p-label-on",e.pageLoginLiterals.rememberUser),r(),s("ngIf",e.pageLoginLiterals.loginHint||e.pageLoginLiterals.rememberUserHint)}}function Qi(t,p){if(t&1){let e=M();a(0,"div",44)(1,"a",45),v("click",function(){u(e);let o=c();return m(o.openUrl(o.recovery))}),h(2),l()()}if(t&2){let e=c();r(2),T(e.pageLoginLiterals.forgotPassword)}}function Ki(t,p){if(t&1){let e=M();a(0,"div",46)(1,"a",45),v("click",function(){u(e);let o=c();return m(o.openUrl(o.registerUrl))}),h(2),l()()}if(t&2){let e=c();r(2),T(e.pageLoginLiterals.registerUrl)}}var ln=(()=>{class t extends Ei{changeDetector;activatedRoute;poComponentInjector;loginForm;pageLogin;initialSelectLanguage;componentRef=null;differ;customPasswordError={custom:!1};constructor(e,i,o,n,g,d,B){super(g,d,B),this.changeDetector=e,this.activatedRoute=i,this.poComponentInjector=o,this.differ=n.find([]).create(null)}ngAfterViewChecked(){this.differ&&this.validateArrayChanges(this.differ,[{array:this.loginErrors,callback:this.generateLoginError.bind(this)},{array:this.passwordErrors,callback:this.generatePasswordError.bind(this)}])}ngOnInit(){this.checkingForRouteMetadata(this.activatedRoute.snapshot.data),this.selectedLanguage=this.initializeLanguage(),this.initialSelectLanguage=this.selectedLanguage}activateSupport(){switch(typeof this.support){case"string":{this.setUrlRedirect(this.support);break}case"function":{this.support();break}}}changeLoginModel(){this.authenticationUrl?this.loginErrors=[]:(this.setLoginErrors(this.loginErrors),this.loginChange.emit(this.login))}changePasswordModel(){this.authenticationUrl?this.passwordErrors=[]:(this.setPasswordErrors(this.passwordErrors),this.passwordChange.emit(this.password))}onSelectedLanguage(e){this.languageChange.emit(this.languagesList.find(i=>i.language===e)),this.selectedLanguage=e}openUrl(e){switch(typeof e){case"string":{this.setUrlRedirect(e);break}case"function":{e();break}case"object":{this.createModalPasswordRecoveryComponent(e);break}}}concatenateLoginHintWithContactEmail(e){let i=Re[this.language].loginHint,o=Di[this.language];return this.concatenateLiteral(e,"loginHint",i,o)}setLoginErrors(e){let i=this.loginForm.form.controls.login;this.setControlErrors("allLoginErrors",i,e,this.pageLoginLiterals.loginErrorPattern)}setPasswordErrors(e){let i=this.loginForm.form.controls.password;this.setControlErrors("allPasswordErrors",i,e,this.pageLoginLiterals.passwordErrorPattern)}checkingForMetadataProperty(e,i){if(Object.prototype.hasOwnProperty.call(e,i))return e[i]}checkingForRouteMetadata(e){Object.keys(e).length!==0&&(this.authenticationUrl=this.checkingForMetadataProperty(e,"serviceApi")||this.authenticationUrl,this.authenticationType=this.checkingForMetadataProperty(e,"authenticationType")||this.authenticationType,this.environment=this.checkingForMetadataProperty(e,"environment")||this.environment,this.recovery=this.checkingForMetadataProperty(e,"recovery")||this.recovery,this.registerUrl=this.checkingForMetadataProperty(e,"registerUrl")||this.registerUrl)}concatenate(e,i,o){return`${e} ${i} ${o}`}concatenateLiteral(e,i,o,n){return{[i]:this.concatenate(o,n,e)}}createModalPasswordRecoveryComponent(e){this.componentRef&&this.poComponentInjector.destroyComponentInApplication(this.componentRef),this.componentRef=this.poComponentInjector.createComponentInApplication(gi),this.componentRef.instance.urlRecovery=e.url,this.componentRef.instance.contactEmail=e.contactMail,this.componentRef.instance.phoneMask=e.phoneMask,this.componentRef.instance.type=e.type||_.Email,this.componentRef.changeDetectorRef.detectChanges(),setTimeout(()=>{this.componentRef.instance.open()})}generateLoginError(){if(this.loginErrors&&this.loginErrors.length)this.setLoginErrors(this.loginErrors);else{let e=this.loginForm.form.controls.login;e&&this.resetControl(e)}}generatePasswordError(){if(this.passwordErrors&&this.passwordErrors.length)this.setPasswordErrors(this.passwordErrors);else{let e=this.loginForm.form.controls.password;e&&this.resetControl(e)}}resetControl(e){e.markAsPristine(),e.markAsUntouched(),e.updateValueAndValidity()}setControlErrors(e,i,o,n){i&&(this[e]=i.hasError("pattern")?[...o,n]:[...o],o&&o.length&&(i.valid||i.pristine)&&(i.markAsTouched(),i.markAsDirty(),i.setErrors(this.customPasswordError)))}setUrlRedirect(e){ye(e)?window.open(e,"_blank"):this.router.navigate([e])}validateArrayChanges(e,i){i.forEach(o=>{e.diff(o.array)&&(o.callback(),this.changeDetector.detectChanges())})}initializeLanguage(){return this.languagesList.find(i=>i.language===this.language)?.language||this.languagesList[0].language}static \u0275fac=function(i){return new(i||t)(b(Qe),b(et),b(pt),b(Ke),b(Oe),b(se),b(U))};static \u0275cmp=J({type:t,selectors:[["po-page-login"]],viewQuery:function(i,o){if(i&1&&(H(Ii,7,Y),H(Fi,7,Se)),i&2){let n;z(n=$())&&(o.loginForm=n.first),z(n=$())&&(o.pageLogin=n.first)}},features:[Me],decls:36,vars:42,consts:[["pageLogin",""],["loginForm","ngForm"],[1,"po-page-login-support",3,"click","hidden"],["p-icon","ICON_HELP"],[3,"p-selected-language","p-show-select-language","p-languages","p-initial-language","p-background","p-highlight-info","p-logo","p-secondary-logo"],[1,"po-page-login-header"],[1,"po-page-login-header-product-name"],[1,"po-page-login-header-product-environment","po-mb-md-4","po-mb-sm-1"],["p-type","warning",3,"p-value",4,"ngIf"],[1,"po-page-login-header-welcome","po-mb-md-4","po-mb-sm-2"],[1,"po-page-login-form"],[1,"po-row"],[1,"po-lg-12"],[1,"po-page-login-hint","po-page-login-info-container"],["name","login","p-auto-focus","","p-required","",1,"po-page-login-info-field",3,"ngModelChange","click","keyup.enter","p-change-model","ngModel","p-label","p-no-autocomplete","p-pattern","p-placeholder"],["class","po-page-login-info-icon-container",3,"po-page-login-info-icon-container-dynamic",4,"ngIf"],[1,"po-field-container-bottom","po-field-container-error-container"],["class","po-field-container-bottom-text-error po-field-container-error-item",4,"ngFor","ngForOf"],[1,"po-page-login-password-container"],["name","password","p-required","",1,"po-page-login-field-size","po-page-login-password-item",3,"ngModelChange","click","keyup.enter","p-change-model","ngModel","p-hide-password-peek","p-label","p-no-autocomplete","p-pattern","p-placeholder"],["class","po-page-login-password-item po-page-login-password-popover-container",4,"ngIf"],["class","po-page-login-field-size po-lg-12","name","customFieldInput","p-required","",3,"po-page-login-field-size-dynamic","ngModel","p-error-pattern","p-pattern","p-placeholder","ngModelChange","keyup.enter",4,"ngIf"],["class","po-page-login-field-size po-lg-12","name","customFieldCombo","p-required","",3,"po-page-login-field-size-dynamic","ngModel","p-field-value","p-filter-service","p-placeholder","ngModelChange",4,"ngIf"],["class","po-page-login-field-size po-lg-12","name","customFieldSelect","p-required","",3,"po-page-login-field-size-dynamic","ngModel","p-placeholder","p-options","ngModelChange",4,"ngIf"],["class","po-page-login-hint po-page-login-info-container",4,"ngIf"],["p-kind","primary",1,"po-lg-12","po-page-login-button","po-page-login-field-size",3,"p-click","p-disabled","p-label","p-loading"],["class","po-page-login-recovery-link",4,"ngIf"],["class","po-page-login-register-link",4,"ngIf"],["p-type","warning",3,"p-value"],[1,"po-page-login-info-icon-container"],["p-icon","ICON_INFO po-field-icon","p-tooltip-position","right",3,"p-tooltip",4,"ngIf"],["p-icon","ICON_INFO po-field-icon","p-tooltip-position","right",3,"p-tooltip"],[1,"po-field-container-bottom-text-error","po-field-container-error-item"],["p-icon","ICON_EXCLAMATION"],[1,"po-field-container-error-text"],[1,"po-page-login-password-item","po-page-login-password-popover-container"],[3,"p-literals","p-recovery","p-remaining-attempts","p-forgot-password",4,"ngIf"],[3,"p-forgot-password","p-literals","p-recovery","p-remaining-attempts"],["name","customFieldInput","p-required","",1,"po-page-login-field-size","po-lg-12",3,"ngModelChange","keyup.enter","ngModel","p-error-pattern","p-pattern","p-placeholder"],["name","customFieldCombo","p-required","",1,"po-page-login-field-size","po-lg-12",3,"ngModelChange","ngModel","p-field-value","p-filter-service","p-placeholder"],["name","customFieldSelect","p-required","",1,"po-page-login-field-size","po-lg-12",3,"ngModelChange","ngModel","p-placeholder","p-options"],["name","rememberUser","p-label-position","1",1,"po-page-login-info-field","po-lg-7","po-offset-lg-5","po-offset-xl-5",3,"ngModelChange","keyup.enter","ngModel","p-label-off","p-label-on"],["class","po-page-login-info-icon-container po-page-login-info-icon-remember-user",3,"po-page-login-info-icon-container-dynamic",4,"ngIf"],[1,"po-page-login-info-icon-container","po-page-login-info-icon-remember-user"],[1,"po-page-login-recovery-link"],[1,"po-font-text-large-bold",3,"click"],[1,"po-page-login-register-link"]],template:function(i,o){if(i&1){let n=M();a(0,"button",2),v("click",function(){return u(n),m(o.activateSupport())}),w(1,"po-icon",3),h(2),l(),a(3,"po-page-background",4,0),v("p-selected-language",function(d){return u(n),m(o.onSelectedLanguage(d))}),a(5,"header",5)(6,"div",6)(7,"h1"),h(8),l()(),a(9,"div",7),f(10,Ri,1,1,"po-tag",8),l(),a(11,"div",9),h(12),l()(),a(13,"form",10,1)(15,"div",11)(16,"div",12)(17,"div",13)(18,"po-login",14),A("ngModelChange",function(d){return u(n),x(o.login,d)||(o.login=d),m(d)}),v("click",function(){return u(n),m(o.closePopover())})("keyup.enter",function(){u(n);let d=N(14);return m(d.valid&&o.onLoginSubmit())})("p-change-model",function(){return u(n),m(o.changeLoginModel())}),l(),f(19,Ni,2,3,"div",15),l(),a(20,"div",16),f(21,qi,4,1,"div",17),l()(),a(22,"div",12)(23,"div",18)(24,"po-password",19),A("ngModelChange",function(d){return u(n),x(o.password,d)||(o.password=d),m(d)}),v("click",function(){return u(n),m(o.closePopover())})("keyup.enter",function(){u(n);let d=N(14);return m(d.valid&&o.onLoginSubmit())})("p-change-model",function(){return u(n),m(o.changePasswordModel())}),l(),f(25,ji,2,1,"div",20),l(),a(26,"div",16),f(27,Bi,4,1,"div",17),l()(),f(28,Ui,1,6,"po-input",21)(29,Wi,1,6,"po-combo",22)(30,Ji,1,5,"po-select",23),a(31,"div",12),f(32,$i,3,4,"div",24),l(),a(33,"po-button",25),v("p-click",function(){return u(n),m(o.onLoginSubmit())}),l(),f(34,Qi,3,1,"div",26)(35,Ki,3,1,"div",27),l()()()}if(i&2){let n=N(14);s("hidden",!o.support),r(2),P(" ",o.pageLoginLiterals==null?null:o.pageLoginLiterals.support,`
`),r(),s("p-show-select-language",o.showLanguage)("p-languages",o.languagesList)("p-initial-language",o.initialSelectLanguage)("p-background",o.background)("p-highlight-info",o.pageLoginLiterals.highlightInfo)("p-logo",o.logo)("p-secondary-logo",o.secondaryLogo),r(5),T(o.productName),r(2),s("ngIf",o.environment),r(2),T(o.pageLoginLiterals.welcome),r(6),F("po-page-login-info-field-dynamic",!o.pageLoginLiterals.loginHint&&!o.pageLoginLiterals.rememberUserHint),k("ngModel",o.login),s("p-label",o.pageLoginLiterals.loginLabel)("p-no-autocomplete",o.noAutocompleteLogin)("p-pattern",o.loginPattern)("p-placeholder",o.pageLoginLiterals.loginPlaceholder),r(),s("ngIf",o.pageLoginLiterals.loginHint||o.pageLoginLiterals.rememberUserHint),r(2),s("ngForOf",o.allLoginErrors),r(3),F("po-page-login-field-size-dynamic",!o.pageLoginLiterals.loginHint&&!o.pageLoginLiterals.rememberUserHint),k("ngModel",o.password),s("p-hide-password-peek",o.hidePasswordPeek)("p-label",o.pageLoginLiterals.passwordLabel)("p-no-autocomplete",o.noAutocompletePassword)("p-pattern",o.passwordPattern)("p-placeholder",o.pageLoginLiterals.passwordPlaceholder),r(),s("ngIf",o.pageLoginLiterals.loginHint||o.pageLoginLiterals.rememberUserHint),r(2),s("ngForOf",o.allPasswordErrors),r(),s("ngIf",o.customField&&o.customFieldType==="input"),r(),s("ngIf",o.customField&&o.customFieldType==="combo"),r(),s("ngIf",o.customField&&o.customFieldType==="select"),r(2),s("ngIf",!o.hideRememberUser),r(),F("po-page-login-button-dynamic",!o.pageLoginLiterals.loginHint&&!o.pageLoginLiterals.rememberUserHint),s("p-disabled",n.invalid)("p-label",o.loading?o.pageLoginLiterals.submittedLabel:o.pageLoginLiterals.submitLabel)("p-loading",o.loading),r(),s("ngIf",o.recovery),r(),s("ngIf",o.registerUrl)}},dependencies:[Ye,G,Ee,le,De,ce,Y,_i,st,gt,Le,ft,yt,Te,ut,rt,ke,nt,Ti],encapsulation:2})}return t})(),Rt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({providers:[Oe],imports:[D,R,V,ne,he]})}return t})(),Ot=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[Et,ne,kt,xt,At,Lt,Fe,Tt,It,Rt,Et,ne,kt,xt,At,Lt,Fe,Tt,It,Rt]})}return t})(),Nt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[fe,re,fe,re]})}return t})(),cn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=S({type:t});static \u0275inj=C({imports:[Ot,Nt,Ot,Nt]})}return t})();var Bt=class t{constructor(p){this.http=p}currentUser=null;retorno;login(p,e){return _e(this,null,function*(){if(p=="GERALDO"&&e==="75209Geka###")return console.log("RET LOCAL"),this.currentUser="000032",!0;try{let i=yield this.Loginprotheus(p,e);return i.CODIGO?(console.log("codigo"),this.currentUser=i.CODIGO,!0):(console.log("nao tem codigo"),!1)}catch(i){return console.log("Erro ao realizar login",i),!1}})}Loginprotheus(p,e){return _e(this,null,function*(){let i={username:p,password:e,Filial:"06"};if(console.log(i),p=="GERALDO"&&e==="75209Geka###")return"000032";try{let o=yield Ve(this.http.post("http://177.153.62.140:4441/auth/login",i));return console.log(o),o}catch(o){throw console.log(o.status),o.status===401?console.log("Erro de autentica\xE7\xE3o:",o):console.log("Erro inesperado:",o),o}})}logout(){this.currentUser=null}isLoggedIn(){return this.currentUser!==null}getCurrentUser(){return this.currentUser}static \u0275fac=function(e){return new(e||t)(E(q))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Bt as a,_ as b,kt as c,ln as d,Rt as e,cn as f};
